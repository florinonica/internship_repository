<p>
  <%= comment.commenter %>
</p>
 
<p>
  <strong>Comment:</strong>
  <%= comment.body %>
</p>

<p>
  <% if user_signed_in? && (current_user.id == comment.user_id || current_user.admin?) %>
    <%=link_to 'Delete', [comment.article, comment], method: :delete,
              data: { confirm: 'Are you sure?' } %> |
  <% end %>
  <% if user_signed_in? && current_user.id == comment.user_id %>
    <%= link_to 'Edit', edit_article_comment_path(comment.article, comment) %> 
  <% end %>
</p>


<div>
  <div class="row">
      <div class="col-md-5 col-md-offset-2">
        <h3>Replies</h3>
        <%= render comment.replies if comment.replies.any? %>
    </div>
  </div>
<%#= render comment.replies if comment.replies.any? %>
<%# comment.replies.each do |reply| %>
   <%#= render reply if reply.parent_id == comment.id %>
<%# end %>
</div>

<p>
  <%= form_for [comment.article, Comment.new] do |form| %>
    <%= form.hidden_field :parent_id, :value => comment.id%>
    <p>
      <%= form.hidden_field :commenter, :value => current_user.email %>
    </p>
    <p>
      <%= form.label :body %><br>
      <%= form.text_area :body %>
    </p>
    <%= form.submit "Reply" %>
  <% end %>
</p>